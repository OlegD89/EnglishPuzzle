{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.ts","webpack:///./src/Components/EventDispatcher.ts","webpack:///./src/Components/Game/Controls.ts","webpack:///./src/Components/Game/ControlsHelper.ts","webpack:///./src/Components/Game/ControlsLevel.ts","webpack:///./src/Components/Game/Game.ts","webpack:///./src/Components/Game/GamePanel.ts","webpack:///./src/Components/Game/GameResource.ts","webpack:///./src/Components/Game/GameRow.ts","webpack:///./src/Components/Game/GameStorage.ts","webpack:///./src/Components/Layout.ts","webpack:///./src/Components/Logger.ts","webpack:///./src/Components/Settings.ts","webpack:///./src/Components/Start/LogIn.ts","webpack:///./src/Components/Start/Registraion.ts","webpack:///./src/Components/Start/Start.ts","webpack:///./src/Constants/Constants.ts","webpack:///./src/Constants/Paintings.ts","webpack:///./src/Utils/DataAdapter.ts","webpack:///./src/Utils/Utils.ts","webpack:///./src/main.ts"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmD;AACI;AACV;AACC;AACiB;AACZ;AACC;AAErC,MAAM,GAAG;IAQtB;QACE,MAAM,eAAe,GAAG,IAAI,2EAAe,EAAE,CAAC;QAC9C,IAAI,CAAC,WAAW,GAAG,IAAI,0DAAW,CAAC,eAAe,CAAC,CAAC;QACpD,IAAI,CAAC,QAAQ,GAAG,IAAI,4DAAQ,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,GAAG,IAAI,0DAAgB,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAC9D,IAAI,CAAC,MAAM,GAAG,IAAI,0DAAgB,CAAC,eAAe,CAAC,SAAS,CAAC,CAAC;QAC9D,IAAI,CAAC,KAAK,GAAG,IAAI,+DAAe,CAAC,eAAe,CAAC,CAAC;QAClD,IAAI,CAAC,IAAI,GAAG,IAAI,6DAAc,CAAC,eAAe,CAAC,CAAC;IAClD,CAAC;IAEM,KAAK;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;QAC3C,IAAI,CAAC,WAAW,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;QAC5C,MAAM,IAAI,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;QAC/C,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAEzB,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACnD,CAAC;CACF;;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA,MAAM,eAAe;IAMnB;QACE,IAAI,CAAC,gBAAgB,GAAG;YACtB,KAAK,EAAE,IAAI,mBAAmB,EAAQ;YACtC,OAAO,EAAE,IAAI,mBAAmB,EAAS;YACzC,MAAM,EAAE,IAAI,mBAAmB,EAAgB;YAC/C,UAAU,EAAE,IAAI,mBAAmB,EAAQ;YAC3C,gBAAgB,EAAE,IAAI,mBAAmB,EAAQ;YACjD,eAAe,EAAE,IAAI,mBAAmB,EAAQ;SACjD,CAAC;QACF,IAAI,CAAC,IAAI,GAAG,IAAI,mBAAmB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;QAC3D,IAAI,CAAC,SAAS,GAAG,IAAI,wBAAwB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IACvE,CAAC;CACF;AAED,MAAM,mBAAmB;IAGvB,YAAY,gBAAmC;QAC7C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IAC3C,CAAC;IAEM,KAAK;QACV,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACrC,CAAC;IAEM,OAAO,CAAC,IAAW;QACxB,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAEM,MAAM,CAAC,IAAY,EAAE,UAAmB,KAAK;QAClD,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;IACvD,CAAC;IAEM,UAAU;QACf,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;IAC1C,CAAC;IAEM,gBAAgB;QACrB,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;IAChD,CAAC;IAEM,eAAe;QACpB,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,IAAI,EAAE,CAAC;IAC/C,CAAC;CACF;AAED,MAAM,wBAAwB;IAG5B,YAAY,gBAAmC;QAC7C,IAAI,CAAC,gBAAgB,GAAG,gBAAgB,CAAC;IAC3C,CAAC;IAEM,KAAK,CAAC,OAAsB;QACjC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACjD,CAAC;IAEM,OAAO,CAAC,OAAuB;QACpC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACnD,CAAC;IAEM,MAAM,CAAC,OAA8B;QAC1C,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAClD,CAAC;IAEM,UAAU,CAAC,OAAsB;QACtC,IAAI,CAAC,gBAAgB,CAAC,UAAU,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IACtD,CAAC;IAEM,gBAAgB,CAAC,OAAsB;QAC5C,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAC5D,CAAC;IAEM,eAAe,CAAC,OAAsB;QAC3C,IAAI,CAAC,gBAAgB,CAAC,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;IAC3D,CAAC;CACF;AAID,MAAM,mBAAmB;IAAzB;QACU,aAAQ,GAAiB,EAAE,CAAC;IAYtC,CAAC;IAVQ,IAAI,CAAC,KAAQ;QAElB,KAAK,MAAM,CAAC,IAAI,IAAI,CAAC,QAAQ,EAAE;YAC7B,CAAC,CAAC,KAAK,CAAC,CAAC;SACV;IACH,CAAC;IAEM,SAAS,CAAC,OAAmB;QAClC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;CACF;AAIC;;;;;;;;;;;;;AC3HF;AAAA;AAAA;AAAA;AAAA;AAAkD;AAEI;AACE;AAEzC,MAAM,kBAAkB;IAKrC,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,YAAY,EAAE,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,sDAAuB,CAAC,eAAe,CAAC,CAAC;QAC1D,IAAI,CAAC,MAAM,GAAG,IAAI,uDAAwB,CAAC,eAAe,CAAC,CAAC;IAC9D,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QACxC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IAC5C,CAAC;CACF;AAED,MAAM,YAAY;IAIT,MAAM,CAAC,MAAY;QACxB,MAAM,aAAa,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,gBAAgB,CAAC,CAAC;QACrE,IAAI,CAAC,UAAU,GAAG,kEAAa,CAAC,aAAa,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;QACrE,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,aAAa,EAAE,KAAK,EAAE,cAAc,CAAC,CAAC;IACzE,CAAC;CACF;;;;;;;;;;;;;AChCD;AAAA;AAAA;AAAkD;AAGnC,MAAM,wBAAwB;IAI3C,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,kBAAkB,EAAE,CAAC;QACrC,IAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC;IAClD,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YAC1B,IAAI,CAAC,mBAAmB,CAAC,UAAU,EAAE,CAAC;QACxC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE;YAChC,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,EAAE,CAAC;QAC9C,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,GAAG,EAAE;YAC/B,IAAI,CAAC,mBAAmB,CAAC,eAAe,EAAE,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,MAAM,kBAAkB;IAKf,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,KAAK,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,+BAA+B,CAAC,CAAC;QAC5E,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,kCAAkC,CAAC,CAAC;QACrF,IAAI,CAAC,UAAU,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,oCAAoC,CAAC,CAAC;QACtF,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,mBAAmB,CAAC;QACvC,IAAI,CAAC,WAAW,CAAC,KAAK,GAAG,kBAAkB,CAAC;QAC5C,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,uBAAuB,CAAC;IAClD,CAAC;IAEM,YAAY,CAAC,IAAgB;QAClC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,GAAG,EAAE;YACxB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAC/C,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;IACJ,CAAC;IAEM,kBAAkB,CAAC,IAAgB;QACxC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,GAAG,EAAE;YAC9B,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACrD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;IACJ,CAAC;IAEM,iBAAiB,CAAC,IAAgB;QACvC,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,GAAG,EAAE;YAC7B,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YACpD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;AC5DD;AAAA;AAAA;AAAkD;AAGnC,MAAM,uBAAuB;IAG1C,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,iBAAiB,EAAE,CAAC;IACtC,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACpD,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,EAAE,GAAG,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,KAAa,EAAE,EAAE;YACxC,QAAQ,CAAC;QACX,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,KAAa,EAAE,EAAE;YACvC,QAAQ,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,MAAM,iBAAiB;IAId,WAAW,CAAC,MAAY,EAAE,MAAgB,EAAE,YAAoB;QACrE,MAAM,eAAe,GAAG,kEAAa,CAAC,MAAM,EAAE,OAAO,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;QAClF,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,eAAe,EAAE,QAAQ,EAAE,yBAAyB,CAAC,CAAC;QACvF,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACvB,MAAM,OAAO,GAAG,kEAAa,CAAC,IAAI,CAAC,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAC5E,IAAI,KAAK,KAAK,YAAY;gBAAE,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,UAAU,CAAC,MAAY,EAAE,MAAgB,EAAE,YAAoB;QACpE,MAAM,cAAc,GAAG,kEAAa,CAAC,MAAM,EAAE,OAAO,EAAE,gBAAgB,EAAE,MAAM,CAAC,CAAC;QAChF,IAAI,CAAC,UAAU,GAAG,kEAAa,CAAC,cAAc,EAAE,QAAQ,EAAE,wBAAwB,CAAC,CAAC;QACpF,MAAM,CAAC,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE;YACvB,MAAM,OAAO,GAAG,kEAAa,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;YAC3E,IAAI,KAAK,KAAK,YAAY;gBAAE,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC;QACtD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,aAAa,CAAC,IAA6B;QAChD,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,GAAG,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACvC,CAAC,CAAC;IACJ,CAAC;IAEM,YAAY,CAAC,IAA6B;QAC/C,IAAI,CAAC,WAAW,CAAC,QAAQ,GAAG,GAAG,EAAE;YAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACvC,CAAC,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;ACtDD;AAAA;AAAA;AAAA;AAAA;AAAkD;AAEN;AACE;AAE/B,MAAM,cAAc;IAMjC,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC3B,IAAI,CAAC,QAAQ,GAAG,IAAI,iDAAkB,CAAC,eAAe,CAAC,CAAC;QACxD,IAAI,CAAC,SAAS,GAAG,IAAI,kDAAmB,CAAC,eAAe,CAAC,CAAC;QAC1D,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAW,EAAE,EAAE;YAChD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IAC9C,CAAC;CACF;AAED,MAAM,QAAQ;IAGL,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,UAAU,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;IAChE,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;IAChD,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IAC7C,CAAC;CACF;;;;;;;;;;;;;AC1CD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkD;AACA;AAGR;AACU;AACiB;AACnB;AAEnC,MAAM,mBAAmB;IAUtC,YAAY,eAAgC;QAPpC,aAAQ,GAAwB,EAAE,CAAC;QAQzC,IAAI,CAAC,IAAI,GAAG,IAAI,aAAa,EAAE,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,qDAAsB,EAAE,CAAC;QAC7C,eAAe,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,IAAW,EAAE,EAAE;YAChD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACnB,CAAC,CAAC,CAAC;QACH,eAAe,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,EAAE;YACxC,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;QACjC,CAAC,CAAC,CAAC;QACH,eAAe,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,EAAE;YAC9C,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,uBAAuB,EAAE,CAAC,CAAC;QAC1E,CAAC,CAAC,CAAC;QACH,eAAe,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,EAAE;YAC7C,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,0BAA0B,EAAE,CAAC,CAAC;QAC/D,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;QAC5D,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;QACtD,IAAI,CAAC,IAAI,CAAC,6BAA6B,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC;QAClG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC;QAC7C,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAEO,IAAI;QACV,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,0DAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,aAA8B,EAAE,EAAE;YACzE,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,aAAa,GAAG,aAAa,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,GAAG,EAAE,CAAC,CAAC;YACvF,MAAM,WAAW,GAAG,IAAI,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,WAAW,CAAC,CAAC;QAEtD,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;YACjB,QAAQ,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAEO,UAAU,CAAC,YAA2B,EAAE,WAAoB;QAClE,MAAM,OAAO,GAAG,IAAI,gDAAiB,CAAC,YAAY,EAAE,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAChF,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;QACnF,IAAI,WAAW;YAAE,IAAI,CAAC,aAAa,GAAG,OAAO,CAAC;QAC9C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAGO,gBAAgB;QACtB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,aAAa,EAAE,CAAC;QACrD,IAAI,CAAC,SAAS;YAAE,OAAO;QAEvB,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;IAC3B,CAAC;IAEO,SAAS;QACf,IAAI,CAAC,aAAa,CAAC,SAAS,EAAE,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;IAC3B,CAAC;IAEO,OAAO;QACb,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;QACzB,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAChC,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC;QAC/B,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,6DAAQ,EAAE;YACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;SACjE;aAAM;SAEN;IACH,CAAC;IAGO,MAAM;QAIZ,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IAE/D,CAAC;IAEO,aAAa;QACnB,MAAM,QAAQ,GAAG,4DAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,MAAM,iBAAiB,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,EAAE,GAAG,mEAAc,CAAC,CAAC;QACjH,IAAI,CAAC,SAAS,GAAG,iBAAiB,GAAG,CAAC,6DAAQ,GAAG,CAAC,CAAC,CAAC;IACtD,CAAC;CACF;AAED,MAAM,aAAa;IASV,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,wBAAwB,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,oBAAoB,CAAC,CAAC;QACtE,IAAI,CAAC,aAAa,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,aAAa,CAAC,CAAC;QACjE,MAAM,aAAa,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,sBAAsB,CAAC,CAAC;QAC3E,IAAI,CAAC,eAAe,GAAG,kEAAa,CAAC,aAAa,EAAE,QAAQ,EAC1D,8CAA8C,EAAE,eAAe,CAAC,CAAC;QACnE,IAAI,CAAC,cAAc,GAAG,kEAAa,CAAC,aAAa,EAAE,QAAQ,EACzD,sEAAsE,EAAE,UAAU,CAAC,CAAC;QACtF,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,aAAa,EAAE,QAAQ,EACtD,0CAA0C,EAAE,OAAO,CAAC,CAAC;QACvD,IAAI,CAAC,sBAAsB,GAAG,kEAAa,CAAC,aAAa,EAAE,QAAQ,EACjE,2CAA2C,EAAE,oBAAoB,CAAC,CAAC;IACvE,CAAC;IAEM,YAAY;QACjB,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IAEM,gBAAgB;QACrB,OAAO,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAEM,sBAAsB,CAAC,IAAgB;QAC5C,IAAI,CAAC,eAAe,CAAC,OAAO,GAAG,IAAI,CAAC;IACtC,CAAC;IAEM,kBAAkB,CAAC,IAAgB;QACxC,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;IAClC,CAAC;IAEM,qBAAqB,CAAC,IAAgB;QAC3C,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,IAAI,CAAC;IACrC,CAAC;IAEM,eAAe,CAAC,WAAmB;QACxC,IAAI,CAAC,WAAW,CAAC,WAAW,GAAG,WAAW,CAAC;IAC7C,CAAC;IAEM,YAAY;QACjB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAC/D,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QAC3D,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;IACnE,CAAC;IAEM,YAAY;QACjB,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;QAClE,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;QAC9D,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAChE,CAAC;IAEM,6BAA6B,CAAC,IAAgB;QACnD,IAAI,CAAC,sBAAsB,CAAC,OAAO,GAAG,IAAI,CAAC;IAC7C,CAAC;IAEM,kBAAkB;QACvB,OAAO,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;IACtC,CAAC;IAEM,aAAa,CAAC,IAAgB;QACnC,IAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;QACzC,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;YACrC,IAAI,KAAK,KAAK,IAAI,CAAC,WAAW,CAAC,WAAW;gBAAE,OAAO;YACnD,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC;YACrC,IAAI,EAAE,CAAC;QACT,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;;;;;;;;;;;;ACzLD;AAAA;AAAA;AAAA;AAA2D;AAEnB;AAEzB,MAAM,sBAAsB;IAGzC;QACE,IAAI,CAAC,IAAI,GAAG,IAAI,gBAAgB,EAAE,CAAC;IACrC,CAAC;IAEM,MAAM,CAAC,aAAmB;QAC/B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;QAChC,oDAAW,CAAC,cAAc,GAAG,CAAC,OAAoB,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;IAC9F,CAAC;IAEM,WAAW,CAAC,KAAkB;QACnC,4DAAO,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,IAAe,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;IACvE,CAAC;CACF;AAED,MAAM,gBAAgB;IAGb,MAAM,CAAC,aAAmB;QAC/B,kEAAa,CAAC,aAAa,EAAE,KAAK,EAAE,WAAW,CAAC,CAAC;QACjD,IAAI,CAAC,cAAc,GAAG,kEAAa,CAAC,aAAa,EAAE,KAAK,EAAE,uBAAuB,CAAC,CAAC;QAEnF,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE,EAAE;YACtC,oDAAW,CAAC,OAAO,CAAC,CAAC,CAAC,MAAqB,CAAC,CAAC;QAC/C,CAAC,CAAC;QACF,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE;YACpC,MAAM,MAAM,GAAG,oDAAW,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,CAAC,MAAM;gBAAE,OAAO;YACpB,MAAM,OAAO,GAAG,CAAC,CAAC,MAAqB,CAAC;YAExC,IAAI,OAAO,KAAK,IAAI,CAAC,cAAc,EAAE;gBACnC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aACpC;iBAAM,IAAI,OAAO,KAAK,MAAM,EAAE;gBAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aACzB;iBAAM;gBACL,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;aACnD;QACH,CAAC,CAAC;IACJ,CAAC;IAEM,iBAAiB,CAAC,OAAoB;QAC3C,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAEM,OAAO,CAAC,IAAe;QAC5B,MAAM,IAAI,GAAG,kEAAa,CAAC,IAAI,CAAC,cAAc,EAAE,MAAM,EAAE,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QACjF,IAAI,CAAC,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,CAAC;QAC1C,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACtB,CAAC;IAGO,SAAS,CAAC,OAAoB;QACpC,IAAI,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YAC5C,oDAAW,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;SACjC;IACH,CAAC;CACF;;;;;;;;;;;;;AC9DD;AAAA;AAAA;AAAA;AAAA;AAAkD;AAEO;AAGjB;AAEzB,MAAM,iBAAiB;IAWpC,YAAY,YAA2B,EAAE,QAAgC,EAAE,cAAuB,KAAK;QACrG,IAAI,CAAC,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;QAC9B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAC;QACjC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAE/B,MAAM,IAAI,GAAG,YAAY,CAAC,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;QAC7E,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,MAAM,CAAC;QACjD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;aACzB,GAAG,CAAC,CAAC,IAAY,EAAE,KAAa,EAAE,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG,UAAU,EAAgB,EAAC,CAAC;IACjH,CAAC;IAEM,MAAM,CAAC,WAAwB,EAAE,GAAW,EAAE,SAAiB;QAEpE,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAE3B,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,GAAG,EAAE,SAAS,CAAC,CAAC;QAC9C,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;QACpD,IAAI,IAAI,CAAC,WAAW,EAAE;YACpB,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;YACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iEAAY,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACvC;aAAM;SAEN;IACH,CAAC;IAEM,gBAAgB;QACrB,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;IACvD,CAAC;IAEM,aAAa;QAClB,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;IAChE,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,CAAC;IACvD,CAAC;IAEM,uBAAuB;QAC5B,OAAO,IAAI,CAAC,YAAY,CAAC,oBAAoB,CAAC;IAChD,CAAC;IAEM,0BAA0B;QAE/B,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,IAAe,EAAE,EAAE;YACjD,IAAI,CAAC,IAAI,CAAC,sBAAsB,CAAC,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;YAC1E,OAAO,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;QAClC,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;IACxB,CAAC;IAEM,UAAU;QACf,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC;IAC3B,CAAC;IAEM,YAAY,CAAC,SAAiB;QACnC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,aAAa,EAAE,CAAC,CAAC;IAClF,CAAC;IAEO,aAAa;QACnB,OAAO,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,IAAI,CAAC;IAC3C,CAAC;IAEO,eAAe;QACrB,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAe,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAC3D,CAAC;IAEO,YAAY;IAQpB,CAAC;CACF;AAED,MAAM,WAAW;IAMR,MAAM,CAAC,WAAwB,EAAE,GAAW,EAAE,SAAiB;QACpE,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,SAAS,GAAG,kEAAa,CAAC,WAAW,EAAE,KAAK,EAAE,6BAA6B,CAAC,CAAC;QAClF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,IAAI,CAAC;QAC/C,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClE,IAAI,CAAC,YAAY,GAAG,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,KAAK,EAAE,qBAAqB,CAAC,CAAC;IAClF,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE,EAAE;YACpC,oDAAW,CAAC,OAAO,CAAC,CAAC,CAAC,MAAqB,CAAC,CAAC;QAC/C,CAAC,CAAC;QACF,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC,EAAE,EAAE;YAClC,MAAM,MAAM,GAAG,oDAAW,CAAC,OAAO,EAAE,CAAC;YACrC,IAAI,CAAC,MAAM;gBAAE,OAAO;YACpB,MAAM,OAAO,GAAG,CAAC,CAAC,MAAqB,CAAC;YACxC,IAAI,OAAO,KAAK,IAAI,CAAC,YAAY,EAAE;gBACjC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;aAClC;iBAAM,IAAI,OAAO,KAAK,MAAM,EAAE;gBAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC;aACzB;iBAAM;gBACL,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;aACjD;QACH,CAAC,CAAC;QACF,oDAAW,CAAC,UAAU,GAAG,CAAC,WAAwB,EAAE,EAAE;YACpD,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,WAAW,CAAC,CAAC;QACxC,CAAC,CAAC;IACJ,CAAC;IAGO,SAAS,CAAC,OAAoB;QACpC,oDAAW,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAEM,YAAY;QACjB,IAAI,CAAC,YAAY,CAAC,WAAW,GAAG,SAAS,CAAC;QAC1C,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC;QACxC,oDAAW,CAAC,UAAU,GAAG,SAAS,CAAC;IACrC,CAAC;IAGM,MAAM,CAAC,gBAAgB,CAAC,YAA2B;QACxD,IAAI,YAAY,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,0BAA0B,CAAC,EAAE;YAClE,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC,CAAC;SAC7E;aAAM;YACL,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC,CAAC;SAC1E;IACH,CAAC;IAEM,sBAAsB,CAAC,IAAe,EAAE,aAAqB,EAAE,SAAiB;QACrF,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,GAAG,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,IAAI,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,SAAS,CAAC;QAE9E,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,GAAG,SAAS,CAAC;IAErD,CAAC;IAEM,yBAAyB,CAAC,IAAe,EAAE,aAAqB,EAAE,SAAiB;QACxF,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,GAAG,IAAI,aAAa,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,IAAI,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,cAAc,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,SAAS,CAAC;QAE9E,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,mBAAmB,GAAG,SAAS,CAAC;IAErD,CAAC;IAEM,aAAa,CAAC,KAAe;QAClC,IAAI,SAAS,GAAG,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,MAAM,CAAC;QACtD,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,KAAkB,EAAE,KAAa,EAAE,EAAE;YACzE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;YACjC,KAAK,CAAC,KAAK,CAAC,eAAe,GAAG,SAAS,CAAC;YACxC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB,EAAE,kBAAkB,CAAC,CAAC;YAC9D,IAAI,KAAK,CAAC,WAAW,KAAK,KAAK,CAAC,KAAK,CAAC,EAAE;gBACtC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;aACxC;iBAAM;gBACL,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBACxC,SAAS,GAAG,KAAK,CAAC;aACnB;QACH,CAAC,CAAC,CAAC;QACH,OAAO,SAAS,CAAC;IACnB,CAAC;IAEM,kBAAkB,CAAC,KAAoB;QAC5C,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1D,CAAC;IAEM,QAAQ,CAAC,QAAgB;QAC9B,IAAI,CAAC,OAAO,GAAG,kEAAa,CAAC,IAAI,CAAC,WAAW,EAAE,OAAO,EAAE,eAAe,CAAC,CAAC;QACzE,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,QAAQ,CAAC;IAC9B,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;IAEM,YAAY,CAAC,YAA2B,EAAE,SAAiB,EAAE,SAAiB;QACnF,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,SAAS,IAAI,CAAC;QAC/C,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,EAAE,EAAE;YACnC,WAAW,CAAC,KAAK,CAAC,mBAAmB,GAAG,SAAS,CAAC;QACpD,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,cAAc,CAAC,IAAgB;QACpC,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;QAC1C,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,GAAG,EAAE;YACrC,IAAI,KAAK,KAAK,IAAI,CAAC,YAAY,CAAC,WAAW;gBAAE,OAAO;YACpD,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC;YACtC,IAAI,EAAE,CAAC;QACT,CAAC,CAAC,CAAC;IACL,CAAC;CACF;;;;;;;;;;;;;AC5ND;AAAA,MAAM,WAAW;IAMR,MAAM,CAAC,OAAO,CAAC,IAAiB;QACrC,IAAI,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;SACzB;IACH,CAAC;IAEM,MAAM,CAAC,OAAO;QACnB,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,SAAS,CAAC;QAC7B,OAAO,IAAI,CAAC;IACd,CAAC;CACF;AAEc,0EAAW,EAAC;;;;;;;;;;;;;ACnB3B;AAAA;AAAA;AAA+C;AAGhC,MAAM,gBAAgB;IAGnC,YAAY,wBAAkD;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,UAAU,EAAE,CAAC;IAC/B,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,CAAC;IAC/B,CAAC;CACF;AAED,MAAM,UAAU;IAIP,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,MAAM,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,GAAG,kEAAa,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,EAAE,sBAAsB,CAAC,CAAC;IAC3E,CAAC;IAEM,SAAS;QACd,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAEM,WAAW,CAAC,UAAkB;QACnC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,OAAO,UAAU,GAAG,CAAC;IAC3D,CAAC;IAEM,WAAW;QAChB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC;IAChD,CAAC;IAEM,WAAW;QAChB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;IAC7C,CAAC;CACF;;;;;;;;;;;;;ACxCD;AAAA;AAAA;AAA+C;AAGhC,MAAM,gBAAgB;IAGnC,YAAY,wBAAkD;QAC5D,IAAI,CAAC,IAAI,GAAG,IAAI,UAAU,EAAE,CAAC;QAC7B,wBAAwB,CAAC,MAAM,CAAC,CAAC,KAAmB,EAAE,EAAE;YACtD,IAAI,KAAK,CAAC,OAAO,EAAE;gBACjB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC7B;iBAAM;gBACL,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IAC3B,CAAC;CACF;AAED,MAAM,UAAU;IAGP,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,MAAM,GAAG,kEAAa,CAAC,MAAM,EAAE,GAAG,EAAE,qDAAqD,CAAC,CAAC;IAClG,CAAC;IAEM,OAAO,CAAC,IAAY;QACzB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;QAC/B,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YAC/C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QACvD,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAEM,KAAK,CAAC,IAAY;QACvB,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;QAClD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;QAChD,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;QAC/B,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YAC/C,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;QACrD,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;CACF;;;;;;;;;;;;;AC7CD;AAAA;AAAe,MAAM,QAAQ;IAG3B,YAAY,wBAAkD;QAC5D,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,YAAY,EAAE,IAAI,QAAQ,CAAC,eAAe,EAAE,CAAC;IAIxE,CAAC;IAEM,WAAW;QAChB,OAAO,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAEO,MAAM,CAAC,YAAY,CAAC,QAAyB;QACnD,YAAY,CAAC,OAAO,CAAC,aAAa,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;IAChE,CAAC;IAEO,MAAM,CAAC,YAAY;QACzB,MAAM,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACrD,IAAI,QAAQ,EAAE;YACZ,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAoB,CAAC;SAChD;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAEO,MAAM,CAAC,eAAe;QAC5B,OAAO,EACN,CAAC;IACJ,CAAC;CACF;;;;;;;;;;;;;ACnCD;AAAA;AAAA;AAAA;AAAA;AAAgF;AAE9B;AAEC;AAEpC,MAAM,eAAe;IAKlC,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;QAC5B,IAAI,CAAC,WAAW,GAAG,IAAI,oDAAsB,CAAC,eAAe,EAAE,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QACvF,IAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC;IAClD,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAEzB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QAC1B,CAAC,CAAC,CAAC;QAGH,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,KAAa,EAAE,QAAgB,EAAE,EAAE;YAC7D,IAAI,CAAC,kEAAa,CAAC,QAAQ,CAAC,EAAE;gBAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,kFAAkF;sBACpG,4DAA4D,CAAC,CAAC;aACjE;iBAAM,IAAI,CAAC,kEAAa,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;aAC7C;iBAAM;gBACL,0DAAW,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAmB,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBACpE,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;oBAC3C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;oBACvC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;gBACnB,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAErC,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;CACF;AAED,MAAM,SAAS;IAON,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,KAAK,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,oBAAoB,CAAC,CAAC;QACjE,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;QAC3D,MAAM,iBAAiB,GAAG,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,2BAA2B,EAAE,OAAO,CAAC,CAAC;QACnG,IAAI,CAAC,UAAU,GAAG,kEAAa,CAAC,iBAAiB,EAAE,OAAO,EAAE,qBAAqB,CAAC,CAAC;QACnF,IAAI,CAAC,UAAU,CAAC,IAAI,GAAG,OAAO,CAAC;QAC/B,IAAI,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;QAChC,MAAM,aAAa,GAAG,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,OAAO,EAAE,8BAA8B,EAAE,UAAU,CAAC,CAAC;QACrG,IAAI,CAAC,aAAa,GAAG,kEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,wBAAwB,CAAC,CAAC;QACrF,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,UAAU,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,QAAQ,GAAG,IAAI,CAAC;QACnC,IAAI,CAAC,kBAAkB,GAAG,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC;QAG7E,MAAM,WAAW,GAAG,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,gBAAgB,EAAE,OAAO,CAAC,CAAC;QACnF,WAAW,CAAC,IAAI,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,cAAc,GAAG,kEAAa,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EACtD,4CAA4C,EAAE,cAAc,CAAC,CAAC;QAEhE,IAAI,CAAC,UAAU,CAAC,KAAK,GAAG,aAAa,CAAC;QACtC,IAAI,CAAC,aAAa,CAAC,KAAK,GAAG,UAAU,CAAC;IACxC,CAAC;IAEM,gBAAgB,CAAC,IAA+C;QACrE,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,KAAK,EAAE,EAAE;YAC9B,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QACxD,CAAC,CAAC;IACJ,CAAC;IAEM,mBAAmB,CAAC,IAAgB;QACzC,IAAI,CAAC,cAAc,CAAC,OAAO,GAAG,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAClD,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;IAC7C,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC1C,CAAC;IAEM,SAAS,CAAC,IAAY;QAC3B,IAAI,CAAC,kBAAkB,CAAC,WAAW,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;IAC9D,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,kBAAkB,CAAC,SAAS,CAAC,MAAM,CAAC,oBAAoB,CAAC,CAAC;IACjE,CAAC;CACF;;;;;;;;;;;;;AC5GD;AAAA;AAAA;AAAA;AAAgF;AAE9B;AAGnC,MAAM,sBAAsB;IAKzC,YAAY,eAAgC,EAAE,SAAqB;QACjE,IAAI,CAAC,IAAI,GAAG,IAAI,gBAAgB,EAAE,CAAC;QACnC,IAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC;QAChD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;IAC7B,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC,KAAa,EAAE,QAAgB,EAAE,EAAE;YAC7D,IAAI,CAAC,kEAAa,CAAC,QAAQ,CAAC,EAAE;gBAC5B,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,kFAAkF;sBACpG,4DAA4D,CAAC,CAAC;aACjE;iBAAM,IAAI,CAAC,kEAAa,CAAC,KAAK,CAAC,EAAE;gBAChC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,sBAAsB,CAAC,CAAC;aAC7C;iBAAM;gBACL,0DAAW,CAAC,YAAY,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAmB,CAAC,CAAC,IAAI,CAAC,GAAG,EAAE;oBACvE,0DAAW,CAAC,KAAK,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAmB,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;wBACpE,IAAI,CAAC,mBAAmB,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;wBAC3C,IAAI,CAAC,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;wBACvC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;oBACnB,CAAC,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,EAAE;oBACjB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAErC,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC;IACL,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;IACnB,CAAC;CACF;AAED,MAAM,gBAAgB;IAOb,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,YAAY,GAAG,kEAAa,CAAC,MAAM,EAAE,MAAM,EAAE,gCAAgC,CAAC,CAAC;QACpF,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,EAAE,sBAAsB,EAAE,cAAc,CAAC,CAAC;QAC/E,MAAM,iBAAiB,GAAG,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,iCAAiC,EAAE,OAAO,CAAC,CAAC;QAChH,IAAI,CAAC,iBAAiB,GAAG,kEAAa,CAAC,iBAAiB,EAAE,OAAO,EAAE,2BAA2B,CAAC,CAAC;QAChG,IAAI,CAAC,iBAAiB,CAAC,IAAI,GAAG,OAAO,CAAC;QACtC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvC,MAAM,aAAa,GAAG,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,OAAO,EAAE,oCAAoC,EAAE,UAAU,CAAC,CAAC;QAClH,IAAI,CAAC,oBAAoB,GAAG,kEAAa,CAAC,aAAa,EAAE,OAAO,EAAE,8BAA8B,CAAC,CAAC;QAClG,IAAI,CAAC,oBAAoB,CAAC,IAAI,GAAG,UAAU,CAAC;QAC5C,IAAI,CAAC,oBAAoB,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC1C,IAAI,CAAC,yBAAyB,GAAG,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,MAAM,EAAE,qBAAqB,CAAC,CAAC;QAGjG,MAAM,kBAAkB,GAAG,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,EAAE,sBAAsB,EAAE,UAAU,CAAC,CAAC;QAC1G,kBAAkB,CAAC,IAAI,GAAG,QAAQ,CAAC;QACnC,IAAI,CAAC,WAAW,GAAG,kEAAa,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,EAC1D,kDAAkD,EAAE,OAAO,CAAC,CAAC;IACjE,CAAC;IAEM,gBAAgB,CAAC,IAA+C;QACrE,IAAI,CAAC,YAAY,CAAC,QAAQ,GAAG,CAAC,KAAK,EAAE,EAAE;YACrC,KAAK,CAAC,cAAc,EAAE,CAAC;YACvB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;QACtE,CAAC,CAAC;IACJ,CAAC;IAED,YAAY,CAAC,IAAgB;QAC3B,IAAI,CAAC,WAAW,CAAC,OAAO,GAAG,IAAI,CAAC;IAClC,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC;IAC1D,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;IACvD,CAAC;IAEM,SAAS,CAAC,IAAY;QAC3B,IAAI,CAAC,yBAAyB,CAAC,WAAW,GAAG,IAAI,CAAC;QAClD,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;IAC3E,CAAC;IAEM,SAAS;QACd,IAAI,CAAC,yBAAyB,CAAC,SAAS,CAAC,MAAM,CAAC,0BAA0B,CAAC,CAAC;IAC9E,CAAC;CACF;;;;;;;;;;;;;ACtGD;AAAA;AAAA;AAAA;AAAkD;AAEZ;AAEvB,MAAM,eAAe;IAIlC,YAAY,eAAgC;QAC1C,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,EAAE,CAAC;QAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,8CAAe,CAAC,eAAe,CAAC,CAAC;IACpD,CAAC;IAEM,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzB,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC1B,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,GAAG,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;YACjB,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACpB,CAAC,CAAC,CAAC;IACL,CAAC;CACF;AAED,MAAM,SAAS;IAIN,MAAM,CAAC,MAAY;QACxB,IAAI,CAAC,SAAS,GAAG,kEAAa,CAAC,MAAM,EAAE,KAAK,EAAE,4BAA4B,CAAC,CAAC;QAC5E,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAC;QAChE,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,yBAAyB,EAAE,iCAAiC,CAAC,CAAC;QACjG,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,GAAG,EAAE,yBAAyB,EAC1D,yDAAyD,CAAC,CAAC;QAC7D,IAAI,CAAC,MAAM,GAAG,kEAAa,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,oBAAoB,EAAE,OAAO,CAAC,CAAC;IACvF,CAAC;IAEM,YAAY,CAAC,IAAgB;QAClC,IAAI,CAAC,MAAM,CAAC,OAAO,GAAG,GAAG,EAAE,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1C,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;IACrD,CAAC;IAEM,IAAI;QACT,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAClD,CAAC;CACF;;;;;;;;;;;;;AC/CD;AAAA;AAAA;AAAA;AAAA,MAAM,YAAY,GAAG,+DAA+D,CAAC;AACrF,MAAM,QAAQ,GAAG,EAAE,CAAC;AACpB,MAAM,cAAc,GAAG,EAAE,CAAC;AAIxB;;;;;;;;;;;;;ACNF;AAAA,MAAM,SAAS,GAAG;IAChB;QACE,GAAG,EAAE,gCAAgC;QACrC,WAAW,EAAE,uCAAuC;QACpD,SAAS,EAAE,qCAAqC;QAChD,KAAK,EAAE,IAAI;QACX,MAAM,EAAE,IAAI;KACb;IACD;QACE,GAAG,EAAE,kCAAkC;QACvC,WAAW,EAAE,sCAAsC;QACnD,SAAS,EAAE,yCAAyC;QACpD,KAAK,EAAE,IAAI;QACX,MAAM,EAAE,IAAI;KACb;CACF,CAAC;AAEa,wEAAS,EAAC;;;;;;;;;;;;;;;;;;;;;;;;ACZV,MAAM,WAAW;IAI9B,YAAY,eAAgC;QAC1C,IAAI,CAAC,mBAAmB,GAAG,eAAe,CAAC,IAAI,CAAC;IAClD,CAAC;IAEM,kBAAkB,CAAC,MAAuB;QAC/C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;IAEM,MAAM,CAAO,YAAY,CAAC,KAAoB;;YACnD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,mDAAmD,EAAE;gBACnF,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE;oBACP,MAAM,EAAE,kBAAkB;oBAC1B,cAAc,EAAE,kBAAkB;iBACnC;gBACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;aAC5B,CAAC,CAAC;YAEH,IAAI,WAAW,CAAC,EAAE,EAAE;gBAClB,MAAM,OAAO,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;gBACzC,OAAO,OAAO,CAAC;aAChB;YACD,MAAM,SAAS,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;YAC3C,MAAM,KAAK,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;KAAA;IAEM,MAAM,CAAO,KAAK,CAAC,KAAoB;;YAC5C,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,oDAAoD,EAAE;gBACpF,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE;oBACP,MAAM,EAAE,kBAAkB;oBAC1B,cAAc,EAAE,kBAAkB;iBACnC;gBACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC;aAC5B,CAAC,CAAC;YAEH,IAAI,WAAW,CAAC,EAAE,EAAE;gBAClB,MAAM,OAAO,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;gBACzC,OAAO,OAAO,CAAC;aAChB;YACD,MAAM,SAAS,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;YAC3C,MAAM,KAAK,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;KAAA;IAEM,MAAM,CAAO,YAAY,CAAC,IAAW;;YAC9C,QAAQ,CAAC;YACL,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,qDAAqD,IAAI,CAAC,MAAM,CAAC,EAAE,QAAQ,EAAE;gBAC3G,MAAM,EAAE,KAAK;gBACb,eAAe,EAAE,IAAI;gBACrB,OAAO,EAAE;oBACP,aAAa,EAAE,UAAU,IAAI,CAAC,KAAK,EAAE;oBACrC,MAAM,EAAE,kBAAkB;iBAC3B;aACK,CAAC,CAAC;YACd,QAAQ,CAAC;YACL,IAAI,WAAW,CAAC,EAAE,EAAE;gBAClB,MAAM,OAAO,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;gBACzC,OAAO,OAAO,CAAC;aAChB;YACD,MAAM,SAAS,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;YAC3C,MAAM,KAAK,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;KAAA;IAEM,MAAM,CAAO,QAAQ,CAAC,KAAa,EAAE,IAAY;;YACtD,MAAM,WAAW,GAAG,MAAM,KAAK,CAAC,2DAA2D,KAAK,SAAS,IAAI,EAAE,CAAC,CAAC;YACjH,IAAI,WAAW,CAAC,EAAE,EAAE;gBAClB,MAAM,OAAO,GAAoB,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;gBAC1D,OAAO,OAAO,CAAC;aAChB;YACD,MAAM,SAAS,GAAG,MAAM,WAAW,CAAC,IAAI,EAAE,CAAC;YAC3C,MAAM,KAAK,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;KAAA;CACF;;;;;;;;;;;;;AChFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAM,aAAa,GAAG,SAAS,aAAa,CAAwC,MAAY,EAC9F,IAAO,EAAE,OAAe,EAAE,OAAe,SAAS;IAClD,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;IAC7C,IAAI,OAAO;QAAE,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC;IACzC,IAAI,IAAI;QAAE,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC;IACrC,IAAI,MAAM;QAAE,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;IACxC,OAAO,OAAO,CAAC;AACjB,CAAC,CAAC;AAEF,MAAM,UAAU,GAAG,SAAS,UAAU,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI;IACvD,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,KAAK,CAAC;AACvC,CAAC,CAAC;AAEF,MAAM,WAAW,GAAG,SAAS,WAAW,CAAI,KAAU;IACpD,OAAO,KAAK,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;AAClC,CAAC,CAAC;AAEF,MAAM,WAAW,GAAG,SAAS,WAAW,CAAC,GAAW;IAClD,MAAM,GAAG,GAAG,GAAG;SACZ,KAAK,CAAC,oGAAoG,CAAC,CAAC;IAC/G,OAAO,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC;AACxB,CAAC,CAAC;AAEF,SAAS,aAAa,CAAC,KAAa;IAElC,MAAM,EAAE,GAAG,yJAAyJ,CAAC;IACrK,OAAO,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AAC9C,CAAC;AAED,MAAM,aAAa,GAAG,SAAS,aAAa,CAAC,QAAgB;IAC3D,MAAM,OAAO,GAAG,mEAAmE,CAAC;IACpF,OAAO,CAAC,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;AACnC,CAAC,CAAC;AAEF,MAAM,aAAa,GAAG,SAAS,aAAa,CAAC,GAAW;IACtD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC;IACzC,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC5B,CAAC,CAAC;AAEF,MAAM,OAAO,GAAG,SAAS,OAAO,CAAC,UAAiB;IAChD,MAAM,KAAK,GAAG,CAAC,GAAG,UAAU,CAAC,CAAC;IAC9B,KAAK,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;QACzC,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;QAC9C,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;KAC7C;IACD,OAAO,KAAK,CAAC;AACf,CAAC,CAAC;AAIA;;;;;;;;;;;;;ACnDF;AAAA;AAAwB;AAExB,CAAC,IAAI,4CAAG,EAAE,CAAC,CAAC,KAAK,EAAE,CAAC","file":"script.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.ts\");\n","import LayoutController from './Components/Layout';\r\nimport StartController from './Components/Start/Start';\r\nimport Settings from './Components/Settings';\r\nimport DataAdapter from './Utils/DataAdapter';\r\nimport { EventDispatcher } from './Components/EventDispatcher';\r\nimport LoggerController from './Components/Logger';\r\nimport GameController from './Components/Game/Game';\r\n\r\nexport default class App {\r\n  private layout: LayoutController;\r\n  private start: StartController;\r\n  private settings: Settings;\r\n  private dataAdapter: DataAdapter;\r\n  private logger: LoggerController;\r\n  private game: GameController;\r\n\r\n  constructor() {\r\n    const eventDispatcher = new EventDispatcher();\r\n    this.dataAdapter = new DataAdapter(eventDispatcher);\r\n    this.settings = new Settings(eventDispatcher.subscribe);\r\n    this.logger = new LoggerController(eventDispatcher.subscribe);\r\n    this.layout = new LayoutController(eventDispatcher.subscribe);\r\n    this.start = new StartController(eventDispatcher);\r\n    this.game = new GameController(eventDispatcher);\r\n  }\r\n\r\n  public Start() {\r\n    const params = this.settings.getSettings();\r\n    this.dataAdapter.setStartParameters(params);\r\n    const page = document.createDocumentFragment();\r\n    const layout = this.layout.render(page);\r\n    this.logger.render(page);\r\n    this.start.render(layout);\r\n    this.game.render(layout);\r\n\r\n    document.querySelector('body').appendChild(page);\r\n  }\r\n}\r\n\r\n\r\n// TODO Реализовать:\r\n// поправить стили входных форм\r\n// Доработать вывод сообщений - сделать всплывающее окно\r\n// Добавить прогресс (загрузку)\r\n","/* eslint-disable max-classes-per-file */\r\n// TODO search оставил в качестве примера\r\n\r\nimport IUser from '../Constants/IUser';\r\n\r\n\r\ninterface ILoggerEvent {\r\n  readonly text: string;\r\n  readonly isError: boolean;\r\n}\r\n\r\ninterface IEventDispatchers {\r\n  start: EventDispatcherBase<void>;\r\n  setUser: EventDispatcherBase<IUser>;\r\n  logger: EventDispatcherBase<ILoggerEvent>;\r\n  clickSound: EventDispatcherBase<void>;\r\n  clickTranslation: EventDispatcherBase<void>;\r\n  clickBackground: EventDispatcherBase<void>;\r\n}\r\n\r\nclass EventDispatcher {\r\n  private eventDispatchers: IEventDispatchers;\r\n\r\n  public call: EventDispatcherCall;\r\n  public subscribe: EventDispatcherSubscribe;\r\n\r\n  constructor() {\r\n    this.eventDispatchers = {\r\n      start: new EventDispatcherBase<void>(),\r\n      setUser: new EventDispatcherBase<IUser>(),\r\n      logger: new EventDispatcherBase<ILoggerEvent>(),\r\n      clickSound: new EventDispatcherBase<void>(),\r\n      clickTranslation: new EventDispatcherBase<void>(),\r\n      clickBackground: new EventDispatcherBase<void>(),\r\n    };\r\n    this.call = new EventDispatcherCall(this.eventDispatchers);\r\n    this.subscribe = new EventDispatcherSubscribe(this.eventDispatchers);\r\n  }\r\n}\r\n\r\nclass EventDispatcherCall {\r\n  private eventDispatchers: IEventDispatchers;\r\n\r\n  constructor(eventDispatchers: IEventDispatchers) {\r\n    this.eventDispatchers = eventDispatchers;\r\n  }\r\n\r\n  public start() {\r\n    this.eventDispatchers.start.call();\r\n  }\r\n\r\n  public setUser(user: IUser) {\r\n    this.eventDispatchers.setUser.call(user);\r\n  }\r\n\r\n  public logger(text: string, isError: boolean = false) {\r\n    this.eventDispatchers.logger.call({ text, isError });\r\n  }\r\n\r\n  public clickSound() {\r\n    this.eventDispatchers.clickSound.call();\r\n  }\r\n\r\n  public clickTranslation() {\r\n    this.eventDispatchers.clickTranslation.call();\r\n  }\r\n\r\n  public clickBackground() {\r\n    this.eventDispatchers.clickBackground.call();\r\n  }\r\n}\r\n\r\nclass EventDispatcherSubscribe {\r\n  private eventDispatchers: IEventDispatchers;\r\n\r\n  constructor(eventDispatchers: IEventDispatchers) {\r\n    this.eventDispatchers = eventDispatchers;\r\n  }\r\n\r\n  public start(handler: Handler<void>) {\r\n    this.eventDispatchers.start.subscribe(handler);\r\n  }\r\n\r\n  public setUser(handler: Handler<IUser>) {\r\n    this.eventDispatchers.setUser.subscribe(handler);\r\n  }\r\n\r\n  public logger(handler: Handler<ILoggerEvent>) {\r\n    this.eventDispatchers.logger.subscribe(handler);\r\n  }\r\n\r\n  public clickSound(handler: Handler<void>) {\r\n    this.eventDispatchers.clickSound.subscribe(handler);\r\n  }\r\n\r\n  public clickTranslation(handler: Handler<void>) {\r\n    this.eventDispatchers.clickTranslation.subscribe(handler);\r\n  }\r\n\r\n  public clickBackground(handler: Handler<void>) {\r\n    this.eventDispatchers.clickBackground.subscribe(handler);\r\n  }\r\n}\r\n\r\ntype Handler<T> = (event: T) => void;\r\n\r\nclass EventDispatcherBase<T> {\r\n  private handlers: Handler<T>[] = [];\r\n\r\n  public call(event: T) {\r\n    // eslint-disable-next-line no-restricted-syntax\r\n    for (const h of this.handlers) {\r\n      h(event);\r\n    }\r\n  }\r\n\r\n  public subscribe(handler: Handler<T>) {\r\n    this.handlers.push(handler);\r\n  }\r\n}\r\n\r\nexport {\r\n  EventDispatcher, EventDispatcherCall, EventDispatcherSubscribe, ILoggerEvent,\r\n};\r\n","import { renderElement } from '../../Utils/Utils';\r\nimport { EventDispatcher } from '../EventDispatcher';\r\nimport ControlsLevelController from './ControlsLevel';\r\nimport ControlsHelperController from './ControlsHelper';\r\n\r\nexport default class ControlsController {\r\n  private view: ControlsView;\r\n  private level: ControlsLevelController;\r\n  private helper: any;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new ControlsView();\r\n    this.level = new ControlsLevelController(eventDispatcher);\r\n    this.helper = new ControlsHelperController(eventDispatcher);\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.level.render(this.view.levelPanel);\r\n    this.helper.render(this.view.helperPanel);\r\n  }\r\n}\r\n\r\nclass ControlsView {\r\n  public levelPanel: Node;\r\n  public helperPanel: Node;\r\n\r\n  public render(layout: Node) {\r\n    const controlsPanel = renderElement(layout, 'div', 'controls-panel');\r\n    this.levelPanel = renderElement(controlsPanel, 'div', 'level-panel');\r\n    this.helperPanel = renderElement(controlsPanel, 'div', 'helper-panel');\r\n  }\r\n}\r\n","import { renderElement } from '../../Utils/Utils';\r\nimport { EventDispatcher, EventDispatcherCall } from '../EventDispatcher';\r\n\r\nexport default class ControlsHelperController {\r\n  private view: ControlsHelperView;\r\n  private eventDispatcherCall: EventDispatcherCall;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new ControlsHelperView();\r\n    this.eventDispatcherCall = eventDispatcher.call;\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.view.onClickSpeak(() => {\r\n      this.eventDispatcherCall.clickSound();\r\n    });\r\n    this.view.onClickTranslation(() => {\r\n      this.eventDispatcherCall.clickTranslation();\r\n    });\r\n    this.view.onClickBackground(() => {\r\n      this.eventDispatcherCall.clickBackground();\r\n    });\r\n  }\r\n}\r\n\r\nclass ControlsHelperView {\r\n  private speak: HTMLSpanElement;\r\n  private translation: HTMLSpanElement;\r\n  private background: HTMLSpanElement;\r\n\r\n  public render(layout: Node) {\r\n    this.speak = renderElement(layout, 'span', 'button-icon button-icon-speak');\r\n    this.translation = renderElement(layout, 'span', 'button-icon button-icon-tranlate');\r\n    this.background = renderElement(layout, 'span', 'button-icon button-icon-background');\r\n    this.speak.title = 'Speaking the text';\r\n    this.translation.title = 'Show translation';\r\n    this.background.title = 'Show background image';\r\n  }\r\n\r\n  public onClickSpeak(func: () => void) {\r\n    this.speak.onclick = () => {\r\n      this.speak.classList.add('button-icon_active');\r\n      func();\r\n    };\r\n  }\r\n\r\n  public onClickTranslation(func: () => void) {\r\n    this.translation.onclick = () => {\r\n      this.translation.classList.add('button-icon_active');\r\n      func();\r\n    };\r\n  }\r\n\r\n  public onClickBackground(func: () => void) {\r\n    this.background.onclick = () => {\r\n      this.background.classList.add('button-icon_active');\r\n      func();\r\n    };\r\n  }\r\n}\r\n","import { renderElement } from '../../Utils/Utils';\r\nimport { EventDispatcher } from '../EventDispatcher';\r\n\r\nexport default class ControlsLevelController {\r\n  private view: ControlsLevelView;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new ControlsLevelView();\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.renderLevel(layout, ['1', '2', '3'], '1');\r\n    this.view.renderPage(layout, ['1', '2', '3'], '1');\r\n    this.view.onChangeLevel((index: number) => {\r\n      debugger;\r\n    });\r\n    this.view.onChangePage((index: number) => {\r\n      debugger;\r\n    });\r\n  }\r\n}\r\n\r\nclass ControlsLevelView {\r\n  private selectLevel: HTMLSelectElement;\r\n  private selectPage: HTMLSelectElement;\r\n\r\n  public renderLevel(layout: Node, values: string[], valueChecked: string) {\r\n    const selectLevelDesc = renderElement(layout, 'label', 'droplist-label', 'Level');\r\n    this.selectLevel = renderElement(selectLevelDesc, 'select', 'droplist droplist-level');\r\n    values.forEach((value) => {\r\n      const element = renderElement(this.selectLevel, 'option', undefined, value);\r\n      if (value === valueChecked) element.selected = true;\r\n    });\r\n  }\r\n\r\n  public renderPage(layout: Node, values: string[], valueChecked: string) {\r\n    const selectPageDesc = renderElement(layout, 'label', 'droplist-label', 'Page');\r\n    this.selectPage = renderElement(selectPageDesc, 'select', 'droplist droplist-page');\r\n    values.forEach((value) => {\r\n      const element = renderElement(this.selectPage, 'option', undefined, value);\r\n      if (value === valueChecked) element.selected = true;\r\n    });\r\n  }\r\n\r\n  public onChangeLevel(func: (value: number) => void) {\r\n    this.selectLevel.onchange = () => {\r\n      func(this.selectLevel.selectedIndex);\r\n    };\r\n  }\r\n\r\n  public onChangePage(func: (value: number) => void) {\r\n    this.selectLevel.onchange = () => {\r\n      func(this.selectLevel.selectedIndex);\r\n    };\r\n  }\r\n}\r\n","import { EventDispatcher } from '../EventDispatcher';\r\nimport { renderElement } from '../../Utils/Utils';\r\nimport IUser from '../../Constants/IUser';\r\nimport ControlsController from './Controls';\r\nimport GamePanelController from './GamePanel';\r\n\r\nexport default class GameController {\r\n  private view: GameView;\r\n  private user: IUser;\r\n  private controls: ControlsController;\r\n  private gamePanel: GamePanelController;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new GameView();\r\n    this.controls = new ControlsController(eventDispatcher);\r\n    this.gamePanel = new GamePanelController(eventDispatcher);\r\n    eventDispatcher.subscribe.setUser((user: IUser) => {\r\n      this.user = user;\r\n      this.view.show();\r\n    });\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.controls.render(this.view.gameLayout);\r\n    this.gamePanel.render(this.view.gameLayout);\r\n  }\r\n}\r\n\r\nclass GameView {\r\n  public gameLayout: HTMLDivElement;\r\n\r\n  public render(layout: Node) {\r\n    this.gameLayout = renderElement(layout, 'div', 'game-layout');\r\n  }\r\n\r\n  public show() {\r\n    this.gameLayout.classList.remove('game_hide');\r\n  }\r\n\r\n  public hide() {\r\n    this.gameLayout.classList.add('game_hide');\r\n  }\r\n}\r\n","import { EventDispatcher } from '../EventDispatcher';\r\nimport { renderElement } from '../../Utils/Utils';\r\nimport DataAdapter from '../../Utils/DataAdapter';\r\nimport IUser from '../../Constants/IUser';\r\nimport IWordResponse from '../../Constants/IWord';\r\nimport GameRowController from './GameRow';\r\nimport GameResourseController from './GameResource';\r\nimport { rowCount, rowNumberWidth } from '../../Constants/Constants';\r\nimport paintings from '../../Constants/Paintings';\r\n\r\nexport default class GamePanelController {\r\n  private view: GamePanelView;\r\n  private user: IUser;\r\n  private gameRows: GameRowController[] = [];\r\n  private gameRowActive: GameRowController;\r\n  private resourse: GameResourseController;\r\n  private wordsResponse: IWordResponse[];\r\n  private page: number;\r\n  private rowHeight: number;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new GamePanelView();\r\n    this.resourse = new GameResourseController();\r\n    eventDispatcher.subscribe.setUser((user: IUser) => {\r\n      this.user = user;\r\n    });\r\n    eventDispatcher.subscribe.clickSound(() => {\r\n      this.gameRowActive.soundPlay();\r\n    });\r\n    eventDispatcher.subscribe.clickTranslation(() => {\r\n      this.view.showTranslation(this.gameRowActive.getTextExampleTranslate());\r\n    });\r\n    eventDispatcher.subscribe.clickBackground(() => {\r\n      this.gameRows.forEach((g) => g.renderBackgroundImageWords());\r\n    });\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.view.onClickSurrenderButton(() => this.surrender());\r\n    this.view.onClickCheckButton(() => this.checkPossiotions());\r\n    this.view.onClickContinueButton(() => this.success());\r\n    this.view.onClickReverseColorTextButton(() => this.gameRows.forEach((g) => g.reverseColorText()));\r\n    this.view.onPanelResize(() => this.resize());\r\n    this.resourse.render(this.view.getResoursePanel());\r\n    this.load();\r\n  }\r\n\r\n  private load() {\r\n    this.page = 0;\r\n    DataAdapter.getWords(0, this.page).then((wordsResponse: IWordResponse[]) => {\r\n      this.calcRowHeigth();\r\n      this.wordsResponse = wordsResponse.filter((o) => o.textExample.split(' ').length < 10);\r\n      const isActiveRow = true;\r\n      this.addGameRow(this.wordsResponse[0], isActiveRow);\r\n      // this.resultResize();\r\n    }).catch((error) => {\r\n      debugger;\r\n    });\r\n  }\r\n\r\n  private addGameRow(wordResponse: IWordResponse, isActiveRow: boolean) {\r\n    const gameRow = new GameRowController(wordResponse, this.resourse, isActiveRow);\r\n    gameRow.render(this.view.getGamePanel(), this.gameRows.length + 1, this.rowHeight);\r\n    if (isActiveRow) this.gameRowActive = gameRow;\r\n    this.gameRows.push(gameRow);\r\n  }\r\n\r\n\r\n  private checkPossiotions() {\r\n    const isCorrect = this.gameRowActive.checkPosition();\r\n    if (!isCorrect) return;\r\n\r\n    this.view.showContinue();\r\n  }\r\n\r\n  private surrender() {\r\n    this.gameRowActive.surrender();\r\n    this.view.showContinue();\r\n  }\r\n\r\n  private success() {\r\n    this.view.hideContinue();\r\n    this.gameRowActive.deactivate();\r\n    this.gameRowActive = undefined;\r\n    if (this.gameRows.length !== rowCount) {\r\n      this.addGameRow(this.wordsResponse[this.gameRows.length], true);\r\n    } else {\r\n      // Скрыть границы и показать информацию по картине\r\n    }\r\n  }\r\n\r\n\r\n  private resize() {\r\n    // const painting = paintings[this.page];\r\n    // const resultPanelHeight = (painting.height / painting.width) * this.view.getWidthtGamePanel();\r\n    // this.rowHeight = resultPanelHeight / (rowCount + 1);\r\n    this.calcRowHeigth();\r\n    this.gameRows.forEach((g) => g.changeHeight(this.rowHeight));\r\n    // Изменить размер всего окна результатов и ресурсов\r\n  }\r\n\r\n  private calcRowHeigth() {\r\n    const painting = paintings[this.page];\r\n    const resultPanelHeight = (painting.height / painting.width) * (this.view.getWidthtGamePanel() - rowNumberWidth);\r\n    this.rowHeight = resultPanelHeight / (rowCount + 1);\r\n  }\r\n}\r\n\r\nclass GamePanelView {\r\n  private resultPanel: HTMLDivElement;\r\n  private resoursePanel: HTMLDivElement;\r\n  private translation: HTMLSpanElement;\r\n  private surrenderButton: HTMLButtonElement;\r\n  private checkButton: HTMLButtonElement;\r\n  private сontinueButton: HTMLButtonElement;\r\n  private reverseColorTextButton: HTMLButtonElement;\r\n\r\n  public render(layout: Node) {\r\n    this.translation = renderElement(layout, 'span', 'game__result-translate');\r\n    this.resultPanel = renderElement(layout, 'div', 'game__result-panel');\r\n    this.resoursePanel = renderElement(layout, 'div', 'game__panel');\r\n    const resultButtons = renderElement(layout, 'div', 'game__result-buttons');\r\n    this.surrenderButton = renderElement(resultButtons, 'button',\r\n      'game__result-button result-button__surrender', 'I don\\'t know');\r\n    this.сontinueButton = renderElement(resultButtons, 'button',\r\n      'game__result-button result-button__сontinue game__result-button_hide', 'Continue');\r\n    this.checkButton = renderElement(resultButtons, 'button',\r\n      'game__result-button result-button__check', 'Check');\r\n    this.reverseColorTextButton = renderElement(resultButtons, 'button',\r\n      'game__result-button result-button__helper', 'Reverse color text');\r\n  }\r\n\r\n  public getGamePanel(): HTMLElement {\r\n    return this.resultPanel;\r\n  }\r\n\r\n  public getResoursePanel(): HTMLElement {\r\n    return this.resoursePanel;\r\n  }\r\n\r\n  public onClickSurrenderButton(func: () => void) {\r\n    this.surrenderButton.onclick = func;\r\n  }\r\n\r\n  public onClickCheckButton(func: () => void) {\r\n    this.checkButton.onclick = func;\r\n  }\r\n\r\n  public onClickContinueButton(func: () => void) {\r\n    this.сontinueButton.onclick = func;\r\n  }\r\n\r\n  public showTranslation(translation: string) {\r\n    this.translation.textContent = translation;\r\n  }\r\n\r\n  public showContinue() {\r\n    this.surrenderButton.classList.add('game__result-button_hide');\r\n    this.checkButton.classList.add('game__result-button_hide');\r\n    this.сontinueButton.classList.remove('game__result-button_hide');\r\n  }\r\n\r\n  public hideContinue() {\r\n    this.surrenderButton.classList.remove('game__result-button_hide');\r\n    this.checkButton.classList.remove('game__result-button_hide');\r\n    this.сontinueButton.classList.add('game__result-button_hide');\r\n  }\r\n\r\n  public onClickReverseColorTextButton(func: () => void) {\r\n    this.reverseColorTextButton.onclick = func;\r\n  }\r\n\r\n  public getWidthtGamePanel(): number {\r\n    return this.resultPanel.offsetWidth;\r\n  }\r\n\r\n  public onPanelResize(func: () => void) {\r\n    let width = this.resultPanel.offsetWidth;\r\n    window.addEventListener('resize', () => {\r\n      if (width === this.resultPanel.offsetWidth) return;\r\n      width = this.resultPanel.offsetWidth;\r\n      func();\r\n    });\r\n  }\r\n}\r\n","import { renderElement, shuffle } from '../../Utils/Utils';\r\nimport IWordGame from './IWordGame';\r\nimport GameStorage from './GameStorage';\r\n\r\nexport default class GameResourseController {\r\n  private view: GameResourseView;\r\n\r\n  constructor() {\r\n    this.view = new GameResourseView();\r\n  }\r\n\r\n  public render(resoursePanel: Node) {\r\n    this.view.render(resoursePanel);\r\n    GameStorage.wordToResourse = (element: HTMLElement) => this.view.appendWordElement(element);\r\n  }\r\n\r\n  public renderWords(words: IWordGame[]) {\r\n    shuffle(words).forEach((word: IWordGame) => this.view.addWord(word));\r\n  }\r\n}\r\n\r\nclass GameResourseView {\r\n  public resourseLayout: HTMLDivElement;\r\n\r\n  public render(resoursePanel: Node) {\r\n    renderElement(resoursePanel, 'div', 'game__row');\r\n    this.resourseLayout = renderElement(resoursePanel, 'div', 'game__resourse-layuot');\r\n\r\n    this.resourseLayout.onmousedown = (e) => {\r\n      GameStorage.setWord(e.target as HTMLElement);\r\n    };\r\n    this.resourseLayout.onmouseup = (e) => {\r\n      const source = GameStorage.getWord();\r\n      if (!source) return;\r\n      const current = e.target as HTMLElement;\r\n\r\n      if (current === this.resourseLayout) {\r\n        this.resourseLayout.append(source);\r\n      } else if (current === source) {\r\n        this.wordClick(current); // click and mousedown conflicting\r\n      } else {\r\n        this.resourseLayout.insertBefore(source, current);\r\n      }\r\n    };\r\n  }\r\n\r\n  public appendWordElement(element: HTMLElement) {\r\n    this.resourseLayout.append(element);\r\n  }\r\n\r\n  public addWord(word: IWordGame) {\r\n    const span = renderElement(this.resourseLayout, 'span', 'game__word', word.text);\r\n    span.style.width = `${word.width * 100}%`;\r\n    word.element = span;\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  private wordClick(element: HTMLElement) {\r\n    if (element.classList.contains('game__word')) {\r\n      GameStorage.wordToGame(element);\r\n    }\r\n  }\r\n}\r\n","import { renderElement } from '../../Utils/Utils';\r\nimport IWordResponse from '../../Constants/IWord';\r\nimport { fileResource } from '../../Constants/Constants';\r\nimport GameResourseController from './GameResource';\r\nimport IWordGame from './IWordGame';\r\nimport GameStorage from './GameStorage';\r\n\r\nexport default class GameRowController {\r\n  private view: GameRowView;\r\n  private wordResponse: IWordResponse;\r\n  private words: IWordGame[];\r\n  // private isVisibleBackgroundImage: boolean;\r\n  private isActiveRow: boolean;\r\n  private resource: GameResourseController;\r\n  // private positionY: string;\r\n  rowHeight: number;\r\n  row: number;\r\n\r\n  constructor(wordResponse: IWordResponse, resource: GameResourseController, isActiveRow: boolean = false) {\r\n    this.view = new GameRowView();\r\n    this.resource = resource;\r\n    this.wordResponse = wordResponse;\r\n    this.isActiveRow = isActiveRow;\r\n\r\n    const text = wordResponse.textExample.replace('<b>', '').replace('</b>', '');\r\n    const textLength = text.replace(/ /g, '').length;\r\n    this.words = text.split(' ')\r\n      .map((word: string, index: number) => ({ text: word, index, width: word.length / textLength } as IWordGame));\r\n  }\r\n\r\n  public render(resultPanel: HTMLElement, row: number, rowHeight: number) {\r\n    // this.positionY = `${(row - 1) * (100 / rowCount)}%`;\r\n    this.row = row;\r\n    this.rowHeight = rowHeight;\r\n    // this.positionY = `-${row * rowHeight}px`;\r\n    this.view.render(resultPanel, row, rowHeight);\r\n    this.view.onResultResize(() => this.resultResize());\r\n    if (this.isActiveRow) {\r\n      this.view.addEvents();\r\n      this.view.addSound(fileResource + this.wordResponse.audioExample);\r\n      this.resource.renderWords(this.words);\r\n    } else {\r\n      // this.view.addWords(this.words);\r\n    }\r\n  }\r\n\r\n  public reverseColorText() {\r\n    GameRowView.reverseColorText(this.getWordElements());\r\n  }\r\n\r\n  public checkPosition() {\r\n    return this.view.checkPosition(this.words.map((o) => o.text));\r\n  }\r\n\r\n  public surrender() {\r\n    this.view.setSuccessPosition(this.getWordElements());\r\n  }\r\n\r\n  public getTextExampleTranslate(): string {\r\n    return this.wordResponse.textExampleTranslate;\r\n  }\r\n\r\n  public renderBackgroundImageWords() {\r\n    // this.isVisibleBackgroundImage = true;\r\n    this.words.reduce((accumulator, word: IWordGame) => {\r\n      this.view.addBackgroundImageWord(word, accumulator, this.getPostitionY());\r\n      return accumulator + word.width;\r\n    }, 0);\r\n  }\r\n\r\n  public soundPlay() {\r\n    this.view.soundPlay();\r\n  }\r\n\r\n  public deactivate() {\r\n    this.isActiveRow = false;\r\n    this.renderBackgroundImageWords();\r\n    this.view.removeEvents();\r\n  }\r\n\r\n  public changeHeight(rowHeight: number) {\r\n    this.rowHeight = rowHeight;\r\n    this.view.changeHeight(this.getWordElements(), rowHeight, this.getPostitionY());\r\n  }\r\n\r\n  private getPostitionY(): string {\r\n    return `-${this.row * this.rowHeight}px`;\r\n  }\r\n\r\n  private getWordElements(): HTMLElement[] {\r\n    return this.words.map((word: IWordGame) => word.element);\r\n  }\r\n\r\n  private resultResize() {\r\n    // if (!this.isVisibleBackgroundImage) return;\r\n    // обновить размер игровой панели\r\n    // вызвать обновление у строк\r\n    // this.words.reduce((accumulator, word: IWordGame) => {\r\n    //   this.view.resizeBackgroundImageWord(word, accumulator);\r\n    //   return accumulator + word.width;\r\n    // }, 0);\r\n  }\r\n}\r\n\r\nclass GameRowView {\r\n  public resultPanel: HTMLElement;\r\n  public resultLayout: HTMLElement;\r\n  private speaker: HTMLAudioElement;\r\n  private resultRow: HTMLDivElement;\r\n\r\n  public render(resultPanel: HTMLElement, row: number, rowHeight: number) {\r\n    this.resultPanel = resultPanel;\r\n    this.resultRow = renderElement(resultPanel, 'div', 'game__panel game__panel-row');\r\n    this.resultRow.style.height = `${rowHeight}px`;\r\n    renderElement(this.resultRow, 'div', 'game__row', row.toString());\r\n    this.resultLayout = renderElement(this.resultRow, 'div', 'game__result-layuot');\r\n  }\r\n\r\n  public addEvents() {\r\n    this.resultLayout.onmousedown = (e) => {\r\n      GameStorage.setWord(e.target as HTMLElement);\r\n    };\r\n    this.resultLayout.onmouseup = (e) => {\r\n      const source = GameStorage.getWord();\r\n      if (!source) return;\r\n      const current = e.target as HTMLElement;\r\n      if (current === this.resultLayout) {\r\n        this.resultLayout.append(source);\r\n      } else if (current === source) {\r\n        this.wordClick(current); // click and mousedown conflicting\r\n      } else {\r\n        this.resultLayout.insertBefore(source, current);\r\n      }\r\n    };\r\n    GameStorage.wordToGame = (wordElement: HTMLElement) => {\r\n      this.resultLayout.append(wordElement);\r\n    };\r\n  }\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  private wordClick(element: HTMLElement) {\r\n    GameStorage.wordToResourse(element);\r\n  }\r\n\r\n  public removeEvents() {\r\n    this.resultLayout.onmousedown = undefined;\r\n    this.resultLayout.onmouseup = undefined;\r\n    GameStorage.wordToGame = undefined;\r\n  }\r\n\r\n\r\n  public static reverseColorText(wordElements: HTMLElement[]) {\r\n    if (wordElements[0].classList.contains('game__word_color-reverse')) {\r\n      wordElements.forEach((o) => o.classList.remove('game__word_color-reverse'));\r\n    } else {\r\n      wordElements.forEach((o) => o.classList.add('game__word_color-reverse'));\r\n    }\r\n  }\r\n\r\n  public addBackgroundImageWord(word: IWordGame, startPosition: number, positionY: string) {\r\n    word.element.classList.add('puzzle');\r\n    word.element.style.backgroundPositionX = `-${startPosition * this.resultLayout.clientWidth}px`;\r\n    word.element.style.backgroundSize = `${this.resultLayout.clientWidth}px auto`;\r\n    // word.element.style.backgroundSize = `${this.resultRow.clientWidth}px auto`;\r\n    word.element.style.backgroundPositionY = positionY;\r\n    // word.element.style.backgroundImage\r\n  }\r\n\r\n  public resizeBackgroundImageWord(word: IWordGame, startPosition: number, positionY: string) {\r\n    word.element.style.backgroundPositionX = `-${startPosition * this.resultLayout.clientWidth}px`;\r\n    word.element.style.backgroundSize = `${this.resultLayout.clientWidth}px auto`;\r\n    // word.element.style.backgroundSize = `${this.resultRow.clientWidth}px auto`;\r\n    word.element.style.backgroundPositionY = positionY;\r\n    // word.element.style.backgroundImage\r\n  }\r\n\r\n  public checkPosition(words: string[]) {\r\n    let isCorrect = !!this.resultLayout.childNodes.length;\r\n    this.resultLayout.childNodes.forEach((value: HTMLElement, index: number) => {\r\n      value.classList.remove('puzzle');\r\n      value.style.backgroundImage = undefined;\r\n      value.classList.remove('game__word_true', 'game__word_false');\r\n      if (value.textContent === words[index]) {\r\n        value.classList.add('game__word_true');\r\n      } else {\r\n        value.classList.add('game__word_false');\r\n        isCorrect = false;\r\n      }\r\n    });\r\n    return isCorrect;\r\n  }\r\n\r\n  public setSuccessPosition(words: HTMLElement[]) {\r\n    words.forEach((word) => this.resultLayout.append(word));\r\n  }\r\n\r\n  public addSound(soundUrl: string) {\r\n    this.speaker = renderElement(this.resultPanel, 'audio', 'game__speaker');\r\n    this.speaker.src = soundUrl;\r\n  }\r\n\r\n  public soundPlay() {\r\n    this.speaker.play();\r\n  }\r\n\r\n  public changeHeight(wordElements: HTMLElement[], rowHeight: number, positionY: string) {\r\n    this.resultRow.style.height = `${rowHeight}px`;\r\n    wordElements.forEach((wordElement) => {\r\n      wordElement.style.backgroundPositionY = positionY;\r\n    });\r\n  }\r\n\r\n  public onResultResize(func: () => void) {\r\n    let width = this.resultLayout.offsetWidth;\r\n    window.addEventListener('resize', () => {\r\n      if (width === this.resultLayout.offsetWidth) return;\r\n      width = this.resultLayout.offsetWidth;\r\n      func();\r\n    });\r\n  }\r\n}\r\n","class GameStorage {\r\n  private static currentWord: HTMLElement;\r\n\r\n  public static wordToGame: (element: HTMLElement) => void;\r\n  public static wordToResourse: (element: HTMLElement) => void;\r\n\r\n  public static setWord(word: HTMLElement) {\r\n    if (word.classList.contains('game__word')) {\r\n      this.currentWord = word;\r\n    }\r\n  }\r\n\r\n  public static getWord(): HTMLElement {\r\n    const word = this.currentWord;\r\n    this.currentWord = undefined;\r\n    return word;\r\n  }\r\n}\r\n\r\nexport default GameStorage;\r\n","import { renderElement } from '../Utils/Utils';\r\nimport { EventDispatcherSubscribe } from './EventDispatcher';\r\n\r\nexport default class LayoutController {\r\n  private view: LayoutView;\r\n\r\n  constructor(eventDispatcherSubscribe: EventDispatcherSubscribe) {\r\n    this.view = new LayoutView();\r\n  }\r\n\r\n  public render(layout: Node): Node {\r\n    this.view.render(layout);\r\n    return this.view.getLayout();\r\n  }\r\n}\r\n\r\nclass LayoutView {\r\n  private layout: HTMLDivElement;\r\n  private loading: HTMLDivElement;\r\n\r\n  public render(layout: Node) {\r\n    this.layout = renderElement(layout, 'div', 'layout');\r\n    this.loading = renderElement(this.layout, 'div', 'loading loading_hide');\r\n  }\r\n\r\n  public getLayout() {\r\n    return this.layout;\r\n  }\r\n\r\n  public changeImage(currentUrl: string) {\r\n    this.layout.style.backgroundImage = `url(${currentUrl})`;\r\n  }\r\n\r\n  public showLoading() {\r\n    this.loading.classList.remove('loading_hide');\r\n  }\r\n\r\n  public hideLoading() {\r\n    this.loading.classList.add('loading_hide');\r\n  }\r\n}\r\n","import { renderElement } from '../Utils/Utils';\r\nimport { EventDispatcherSubscribe, ILoggerEvent } from './EventDispatcher';\r\n\r\nexport default class LoggerController {\r\n  private view: LoggerView;\r\n\r\n  constructor(eventDispatcherSubscribe: EventDispatcherSubscribe) {\r\n    this.view = new LoggerView();\r\n    eventDispatcherSubscribe.logger((event: ILoggerEvent) => {\r\n      if (event.isError) {\r\n        this.view.error(event.text);\r\n      } else {\r\n        this.view.success(event.text);\r\n      }\r\n    });\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n  }\r\n}\r\n\r\nclass LoggerView {\r\n  logger: HTMLElement;\r\n\r\n  public render(layout: Node) {\r\n    this.logger = renderElement(layout, 'b', 'logger-panel logger-panel_success logger-panel_hide');\r\n  }\r\n\r\n  public success(text: string) {\r\n    this.logger.classList.remove('logger-panel_hide');\r\n    this.logger.classList.remove('logger-panel_error');\r\n    this.logger.classList.add('logger-panel_success');\r\n    this.logger.textContent = text;\r\n    setTimeout(() => {\r\n      this.logger.classList.add('logger-panel_hide');\r\n      this.logger.classList.remove('logger-panel_success');\r\n    }, 3000);\r\n  }\r\n\r\n  public error(text: string) {\r\n    this.logger.classList.remove('logger-panel_hide');\r\n    this.logger.classList.remove('logger-panel_success');\r\n    this.logger.classList.add('logger-panel_error');\r\n    this.logger.textContent = text;\r\n    setTimeout(() => {\r\n      this.logger.classList.add('logger-panel_hide');\r\n      this.logger.classList.remove('logger-panel_error');\r\n    }, 3000);\r\n  }\r\n}\r\n","import { EventDispatcherSubscribe } from './EventDispatcher';\r\n\r\ninterface ISettingsParams {\r\n}\r\n\r\nexport default class Settings {\r\n  private settings: ISettingsParams;\r\n\r\n  constructor(eventDispatcherSubscribe: EventDispatcherSubscribe) {\r\n    this.settings = Settings.loadSettings() || Settings.defaultSettings();\r\n    // eventDispatcherSubscribe.temperatureUnit((event: ITemperatureUnitEvent) => {\r\n    //   Settings.saveSettings(this.settings);\r\n    // });\r\n  }\r\n\r\n  public getSettings(): ISettingsParams {\r\n    return this.settings;\r\n  }\r\n\r\n  private static saveSettings(settings: ISettingsParams) {\r\n    localStorage.setItem('weather-dos', JSON.stringify(settings));\r\n  }\r\n\r\n  private static loadSettings(): ISettingsParams {\r\n    const settings = localStorage.getItem('weather-dos');\r\n    if (settings) {\r\n      return JSON.parse(settings) as ISettingsParams;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  private static defaultSettings(): ISettingsParams {\r\n    return {\r\n    };\r\n  }\r\n}\r\n\r\nexport { ISettingsParams };\r\n","import { renderElement, checkPassword, validateEmail } from '../../Utils/Utils';\r\nimport { EventDispatcher, EventDispatcherCall } from '../EventDispatcher';\r\nimport DataAdapter from '../../Utils/DataAdapter';\r\nimport { IUserRegister } from '../../Constants/IUser';\r\nimport RegistrationController from './Registraion';\r\n\r\nexport default class LogInController {\r\n  private view: LogInView;\r\n  private eventDispatcherCall: EventDispatcherCall;\r\n  private registraion: RegistrationController;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new LogInView();\r\n    this.registraion = new RegistrationController(eventDispatcher, () => this.view.show());\r\n    this.eventDispatcherCall = eventDispatcher.call;\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n\r\n    this.registraion.render(layout);\r\n    this.view.onClickRegistration(() => {\r\n      this.view.hide();\r\n      this.registraion.show();\r\n    });\r\n\r\n\r\n    this.view.onSubmitRegister((email: string, password: string) => {\r\n      if (!checkPassword(password)) {\r\n        this.view.showError('the password must contain at least 8 characters, at least one uppercase letter, '\r\n        + 'one uppercase letter, one digit, and one special character');\r\n      } else if (!validateEmail(email)) {\r\n        this.view.showError('email is not correct');\r\n      } else {\r\n        DataAdapter.logIn({ email, password } as IUserRegister).then((user) => {\r\n          this.eventDispatcherCall.logger('Welcome');\r\n          this.eventDispatcherCall.setUser(user);\r\n          this.view.hide();\r\n        }).catch((error) => {\r\n          this.view.showError(error.message);\r\n          // this.eventDispatcherCall.logger({ text: error, isError: true });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public show() {\r\n    this.view.show();\r\n  }\r\n}\r\n\r\nclass LogInView {\r\n  private logIn: HTMLFormElement;\r\n  private logInEmail: HTMLInputElement;\r\n  private logInPassword: HTMLInputElement;\r\n  private logInPasswordError: HTMLSpanElement;\r\n  private registerButton: HTMLButtonElement;\r\n\r\n  public render(layout: Node) {\r\n    this.logIn = renderElement(layout, 'form', 'log-in log-in_hide');\r\n    renderElement(this.logIn, 'h2', 'log-in__header', 'LogIn');\r\n    const labelRegistration = renderElement(this.logIn, 'label', 'log-in-email__description', 'Email');\r\n    this.logInEmail = renderElement(labelRegistration, 'input', 'log-in-email__input');\r\n    this.logInEmail.type = 'email';\r\n    this.logInEmail.required = true;\r\n    const labelPassword = renderElement(this.logIn, 'label', 'log-in-password__description', 'Password');\r\n    this.logInPassword = renderElement(labelPassword, 'input', 'log-in-password__input');\r\n    this.logInPassword.type = 'password';\r\n    this.logInPassword.required = true;\r\n    this.logInPasswordError = renderElement(this.logIn, 'span', 'log-in__error');\r\n    // eslint-disable-next-line no-useless-escape\r\n    // this.logInPassword.pattern = '/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/';\r\n    const logInButton = renderElement(this.logIn, 'button', 'log-in__button', 'Enter');\r\n    logInButton.type = 'submit';\r\n    this.registerButton = renderElement(this.logIn, 'button',\r\n      'log-in__button log-in__registration-button', 'Registration');\r\n\r\n    this.logInEmail.value = 'test3@te.st';\r\n    this.logInPassword.value = 'Test999&';\r\n  }\r\n\r\n  public onSubmitRegister(func: (email: string, password: string) => void) {\r\n    this.logIn.onsubmit = (event) => {\r\n      event.preventDefault();\r\n      func(this.logInEmail.value, this.logInPassword.value);\r\n    };\r\n  }\r\n\r\n  public onClickRegistration(func: () => void) {\r\n    this.registerButton.onclick = () => { func(); };\r\n  }\r\n\r\n  public show() {\r\n    this.logIn.classList.remove('log-in_hide');\r\n  }\r\n\r\n  public hide() {\r\n    this.logIn.classList.add('log-in_hide');\r\n  }\r\n\r\n  public showError(text: string) {\r\n    this.logInPasswordError.textContent = text;\r\n    this.logInPasswordError.classList.add('log-in__error_show');\r\n  }\r\n\r\n  public hideError() {\r\n    this.logInPasswordError.classList.remove('log-in__error_show');\r\n  }\r\n}\r\n","import { renderElement, checkPassword, validateEmail } from '../../Utils/Utils';\r\nimport { EventDispatcher, EventDispatcherCall } from '../EventDispatcher';\r\nimport DataAdapter from '../../Utils/DataAdapter';\r\nimport { IUserRegister } from '../../Constants/IUser';\r\n\r\nexport default class RegistrationController {\r\n  private view: RegistrationView;\r\n  private eventDispatcherCall: EventDispatcherCall;\r\n  private logInShow: () => void;\r\n\r\n  constructor(eventDispatcher: EventDispatcher, logInShow: () => void) {\r\n    this.view = new RegistrationView();\r\n    this.eventDispatcherCall = eventDispatcher.call;\r\n    this.logInShow = logInShow;\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.view.onSubmitRegister((email: string, password: string) => {\r\n      if (!checkPassword(password)) {\r\n        this.view.showError('the password must contain at least 8 characters, at least one uppercase letter, '\r\n        + 'one uppercase letter, one digit, and one special character');\r\n      } else if (!validateEmail(email)) {\r\n        this.view.showError('email is not correct');\r\n      } else {\r\n        DataAdapter.registration({ email, password } as IUserRegister).then(() => {\r\n          DataAdapter.logIn({ email, password } as IUserRegister).then((user) => {\r\n            this.eventDispatcherCall.logger('Welcome');\r\n            this.eventDispatcherCall.setUser(user);\r\n            this.view.hide();\r\n          });\r\n        }).catch((error) => {\r\n          this.view.showError(error.message);\r\n          // this.eventDispatcherCall.logger({ text: error, isError: true });\r\n        });\r\n      }\r\n    });\r\n    this.view.onClickLogIn(() => {\r\n      this.view.hide();\r\n      this.logInShow();\r\n    });\r\n  }\r\n\r\n  public show() {\r\n    this.view.show();\r\n  }\r\n}\r\n\r\nclass RegistrationView {\r\n  private registration: HTMLFormElement;\r\n  private registrationEmail: HTMLInputElement;\r\n  private registrationPassword: HTMLInputElement;\r\n  private registrationPasswordError: HTMLSpanElement;\r\n  private logInButton: HTMLButtonElement;\r\n\r\n  public render(layout: Node) {\r\n    this.registration = renderElement(layout, 'form', 'registration registration_hide');\r\n    renderElement(this.registration, 'h2', 'registration__header', 'Registration');\r\n    const labelRegistration = renderElement(this.registration, 'label', 'registration-email__description', 'Email');\r\n    this.registrationEmail = renderElement(labelRegistration, 'input', 'registration-email__input');\r\n    this.registrationEmail.type = 'email';\r\n    this.registrationEmail.required = true;\r\n    const labelPassword = renderElement(this.registration, 'label', 'registration-password__description', 'Password');\r\n    this.registrationPassword = renderElement(labelPassword, 'input', 'registration-password__input');\r\n    this.registrationPassword.type = 'password';\r\n    this.registrationPassword.required = true;\r\n    this.registrationPasswordError = renderElement(this.registration, 'span', 'registration__error');\r\n    // eslint-disable-next-line no-useless-escape\r\n    // this.registrationPassword.pattern = '/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/';\r\n    const registrationButton = renderElement(this.registration, 'button', 'registration__button', 'Register');\r\n    registrationButton.type = 'submit';\r\n    this.logInButton = renderElement(this.registration, 'button',\r\n      'registration__button registration__log-in-button', 'LogIn');\r\n  }\r\n\r\n  public onSubmitRegister(func: (email: string, password: string) => void) {\r\n    this.registration.onsubmit = (event) => {\r\n      event.preventDefault();\r\n      func(this.registrationEmail.value, this.registrationPassword.value);\r\n    };\r\n  }\r\n\r\n  onClickLogIn(func: () => void) {\r\n    this.logInButton.onclick = func;\r\n  }\r\n\r\n  public show() {\r\n    this.registration.classList.remove('registration_hide');\r\n  }\r\n\r\n  public hide() {\r\n    this.registration.classList.add('registration_hide');\r\n  }\r\n\r\n  public showError(text: string) {\r\n    this.registrationPasswordError.textContent = text;\r\n    this.registrationPasswordError.classList.add('registration__error_show');\r\n  }\r\n\r\n  public hideError() {\r\n    this.registrationPasswordError.classList.remove('registration__error_show');\r\n  }\r\n}\r\n","import { renderElement } from '../../Utils/Utils';\r\nimport { EventDispatcher } from '../EventDispatcher';\r\nimport LogInController from './LogIn';\r\n\r\nexport default class StartController {\r\n  private view: StartView;\r\n  private logIn: LogInController;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.view = new StartView();\r\n    this.logIn = new LogInController(eventDispatcher);\r\n  }\r\n\r\n  public render(layout: Node) {\r\n    this.view.render(layout);\r\n    this.logIn.render(layout);\r\n    this.view.onClickStart(() => {\r\n      this.view.hide();\r\n      this.logIn.show();\r\n    });\r\n  }\r\n}\r\n\r\nclass StartView {\r\n  private startPage: HTMLDivElement;\r\n  private button: HTMLButtonElement;\r\n\r\n  public render(layout: Node) {\r\n    this.startPage = renderElement(layout, 'div', 'start-page start-page_hide');\r\n    renderElement(this.startPage, 'h1', 'header', 'English puzzle');\r\n    renderElement(this.startPage, 'p', 'start-page__description', 'Click on words, collect phrases');\r\n    renderElement(this.startPage, 'p', 'start-page__description',\r\n      'Words can be drag and drop. Select tooltips in the menu');\r\n    this.button = renderElement(this.startPage, 'button', 'start-page__button', 'Start');\r\n  }\r\n\r\n  public onClickStart(func: () => void) {\r\n    this.button.onclick = () => { func(); };\r\n  }\r\n\r\n  public show() {\r\n    this.startPage.classList.remove('start-page_hide');\r\n  }\r\n\r\n  public hide() {\r\n    this.startPage.classList.add('start-page_hide');\r\n  }\r\n}\r\n","const fileResource = 'https://raw.githubusercontent.com/olegd89/rslang-data/master/';\r\nconst rowCount = 10;\r\nconst rowNumberWidth = 20;\r\n\r\nexport {\r\n  fileResource, rowCount, rowNumberWidth,\r\n};\r\n","const paintings = [\r\n  {\r\n    src: 'assets/paintings/NinthWave.jpg',\r\n    description: 'Ivan Aivazovsky. The Ninth Wave. 1850',\r\n    translate: 'Иван Айвазовский. Девятый вал. 1850',\r\n    width: 2027,\r\n    height: 1338,\r\n  },\r\n  {\r\n    src: 'assets/paintings/SeaKoktebel.jpg',\r\n    description: 'Ivan Aivazovsky. Sea. Koktebel. 1853',\r\n    translate: 'Иван Айвазовский. Море. Коктебель. 1853',\r\n    width: 1531,\r\n    height: 1080,\r\n  },\r\n];\r\n\r\nexport default paintings;\r\n","import { ISettingsParams } from '../Components/Settings';\r\nimport { EventDispatcherCall, EventDispatcher } from '../Components/EventDispatcher';\r\nimport IUser, { IUserRegister } from '../Constants/IUser';\r\nimport IWordResponse from '../Constants/IWord';\r\n\r\nexport default class DataAdapter {\r\n  private eventDispatcherCall: EventDispatcherCall;\r\n  private params: ISettingsParams;\r\n\r\n  constructor(eventDispatcher: EventDispatcher) {\r\n    this.eventDispatcherCall = eventDispatcher.call;\r\n  }\r\n\r\n  public setStartParameters(params: ISettingsParams) {\r\n    this.params = params;\r\n  }\r\n\r\n  public static async registration(event: IUserRegister) {\r\n    const rawResponse = await fetch('https://afternoon-falls-25894.herokuapp.com/users', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(event),\r\n    });\r\n\r\n    if (rawResponse.ok) {\r\n      const content = await rawResponse.json();\r\n      return content;\r\n    }\r\n    const errorText = await rawResponse.text();\r\n    throw Error(errorText);\r\n  }\r\n\r\n  public static async logIn(event: IUserRegister) {\r\n    const rawResponse = await fetch('https://afternoon-falls-25894.herokuapp.com/signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(event),\r\n    });\r\n\r\n    if (rawResponse.ok) {\r\n      const content = await rawResponse.json();\r\n      return content;\r\n    }\r\n    const errorText = await rawResponse.text();\r\n    throw Error(errorText);\r\n  }\r\n\r\n  public static async getUserWords(user: IUser) {\r\ndebugger;\r\n    const rawResponse = await fetch(`https://afternoon-falls-25894.herokuapp.com/users/${user.userId.id}/words`, {\r\n      method: 'GET',\r\n      withCredentials: true,\r\n      headers: {\r\n        Authorization: `Bearer ${user.token}`,\r\n        Accept: 'application/json',\r\n      },\r\n    } as any);\r\ndebugger;\r\n    if (rawResponse.ok) {\r\n      const content = await rawResponse.json();\r\n      return content;\r\n    }\r\n    const errorText = await rawResponse.text();\r\n    throw Error(errorText);\r\n  }\r\n\r\n  public static async getWords(group: number, page: number) {\r\n    const rawResponse = await fetch(`https://afternoon-falls-25894.herokuapp.com/words?group=${group}&page=${page}`);\r\n    if (rawResponse.ok) {\r\n      const content: IWordResponse[] = await rawResponse.json();\r\n      return content;\r\n    }\r\n    const errorText = await rawResponse.text();\r\n    throw Error(errorText);\r\n  }\r\n}\r\n","/* eslint-disable no-useless-escape */\r\nconst renderElement = function renderElement<K extends keyof HTMLElementTagNameMap>(layout: Node,\r\n  type: K, classes: string, text: string = undefined): HTMLElementTagNameMap[K] {\r\n  const element = document.createElement(type);\r\n  if (classes) element.className = classes;\r\n  if (text) element.textContent = text;\r\n  if (layout) layout.appendChild(element);\r\n  return element;\r\n};\r\n\r\nconst onlyUnique = function onlyUnique(value, index, self) {\r\n  return self.indexOf(value) === index;\r\n};\r\n\r\nconst getDistinct = function getDistinct<T>(array: T[]): T[] {\r\n  return array.filter(onlyUnique);\r\n};\r\n\r\nconst validateURL = function validateURL(url: string) {\r\n  const res = url\r\n    .match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\r\n  return (res !== null);\r\n};\r\n\r\nfunction validateEmail(email: string) {\r\n  // eslint-disable-next-line max-len\r\n  const re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nconst checkPassword = function CheckPassword(password: string) {\r\n  const decimal = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\\s).{8,15}$/;\r\n  return !!password.match(decimal);\r\n};\r\n\r\nconst randomInteger = function randomInteger(max: number) {\r\n  const random = Math.random() * (max + 1);\r\n  return Math.floor(random);\r\n};\r\n\r\nconst shuffle = function shuffle(arrayInput: any[]) {\r\n  const array = [...arrayInput];\r\n  for (let i = array.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n};\r\n\r\nexport {\r\n  renderElement, getDistinct, validateURL, randomInteger, checkPassword, validateEmail, shuffle,\r\n};\r\n","import App from './App';\r\n\r\n(new App()).Start();\r\n"],"sourceRoot":""}